<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EYEDOPE V2</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik+Glitch&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Red Theme (Default) */
      --primary: #ff0033;
      --primary-bright: #ff1a4d;
      --primary-dark: #cc0029;
      --primary-glow: rgba(255, 0, 51, 0.6);
      --bg-primary: #000000;
      --bg-secondary: #0d0003;
      --bg-tertiary: #1a0005;
      --glass: rgba(10, 0, 5, 0.75);
      --glass-border: rgba(255, 0, 51, 0.3);
      --glass-light: rgba(255, 255, 255, 0.05);
      --text-primary: #ff0033;
      --text-secondary: rgba(255, 0, 51, 0.8);
      --text-muted: rgba(255, 0, 51, 0.5);
      --shadow-color: rgba(255, 0, 51, 0.3);
    }

    [data-theme="light"] {
      --primary: #0066ff;
      --primary-bright: #3385ff;
      --primary-dark: #0052cc;
      --primary-glow: rgba(0, 102, 255, 0.4);
      --bg-primary: #f8f9fa;
      --bg-secondary: #e9ecef;
      --bg-tertiary: #dee2e6;
      --glass: rgba(255, 255, 255, 0.8);
      --glass-border: rgba(0, 102, 255, 0.3);
      --glass-light: rgba(0, 0, 0, 0.05);
      --text-primary: #0066ff;
      --text-secondary: rgba(0, 102, 255, 0.8);
      --text-muted: rgba(0, 0, 0, 0.5);
      --shadow-color: rgba(0, 102, 255, 0.2);
    }

    [data-theme="purple"] {
      --primary: #9d4edd;
      --primary-bright: #b266e3;
      --primary-dark: #7c3db8;
      --primary-glow: rgba(157, 78, 221, 0.6);
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a0f2e;
      --bg-tertiary: #2a1f3e;
      --glass: rgba(26, 15, 46, 0.75);
      --glass-border: rgba(157, 78, 221, 0.3);
      --glass-light: rgba(255, 255, 255, 0.05);
      --text-primary: #9d4edd;
      --text-secondary: rgba(157, 78, 221, 0.8);
      --text-muted: rgba(157, 78, 221, 0.5);
      --shadow-color: rgba(157, 78, 221, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-tertiary) 100%);
      color: var(--primary);
      font-family: 'Orbitron', sans-serif;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
      cursor: crosshair;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Animated background grid */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(var(--primary-glow) 1px, transparent 1px),
        linear-gradient(90deg, var(--primary-glow) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
      pointer-events: none;
      z-index: 0;
      transition: all 0.5s ease;
    }

    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(50px, 50px); }
    }

    /* Intense lightning flash with glitch */
    #lightning {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, #fff 0%, var(--primary) 50%, #fff 100%);
      opacity: 0;
      pointer-events: none;
      z-index: 9999;
      animation: intenseLightning 8s infinite;
      mix-blend-mode: screen;
    }

    @keyframes intenseLightning {
      0%, 100% { opacity: 0; }
      2% { opacity: 0.95; }
      2.5% { opacity: 0; }
      3% { opacity: 0.85; }
      3.5% { opacity: 0; }
      6% { opacity: 0.7; }
      6.2% { opacity: 0.9; }
      6.4% { opacity: 0; }
      9% { opacity: 0.6; }
      9.3% { opacity: 0; }
    }

    /* Glitch overlay */
    #glitch-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        var(--primary-glow) 0px,
        transparent 2px,
        transparent 4px,
        var(--primary-glow) 4px
      );
      pointer-events: none;
      z-index: 9998;
      animation: glitchScan 8s linear infinite;
    }

    @keyframes glitchScan {
      0%, 100% { transform: translateY(0); opacity: 0.5; }
      50% { transform: translateY(-100%); opacity: 0.3; }
    }

    /* ASCII Animation Container */
    .ascii-container {
      position: relative;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 2rem;
      overflow: hidden;
    }

    .ascii-art {
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1;
      white-space: pre;
      text-align: center;
      color: var(--primary);
      text-shadow: 0 0 10px var(--primary-glow);
      animation: asciiGlow 3s ease-in-out infinite;
    }

    @keyframes asciiGlow {
      0%, 100% { 
        text-shadow: 0 0 10px var(--primary-glow);
        transform: scale(1);
      }
      50% { 
        text-shadow: 0 0 20px var(--primary-glow), 0 0 30px var(--primary-glow);
        transform: scale(1.02);
      }
    }

    /* Container */
    .container {
      position: relative;
      z-index: 1;
      max-width: 1600px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Header with intense glitch effect */
    header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }

    .logo {
      font-family: 'Poppins', sans-serif;
      font-size: 50px;
      font-weight: 900;
      letter-spacing: 0.5rem;
      text-transform: uppercase;
      background: linear-gradient(45deg, var(--primary) 0%, var(--primary-bright) 50%, var(--primary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      display: inline-block;
      animation: logoGlitch 4s infinite, logoPulse 2s ease-in-out infinite;
      text-shadow: 
        0 0 30px var(--shadow-color),
        0 0 60px var(--shadow-color),
        0 0 90px var(--shadow-color);
      transition: all 0.5s ease;
    }

    @keyframes logoGlitch {
      0%, 90%, 100% { transform: translate(0, 0) skew(0deg); }
      91% { transform: translate(-4px, 2px) skew(-2deg); }
      92% { transform: translate(3px, -2px) skew(2deg); }
      93% { transform: translate(-2px, 1px) skew(-1deg); }
      94% { transform: translate(0, 0) skew(0deg); }
    }

    @keyframes logoPulse {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }

    .subtitle {
      font-size: 1.2rem;
      letter-spacing: 0.3rem;
      margin-top: 1rem;
      opacity: 0.8;
      text-transform: uppercase;
      animation: subtitleFlicker 3s infinite;
      transition: all 0.5s ease;
    }

    @keyframes subtitleFlicker {
      0%, 100% { opacity: 0.8; }
      41%, 43%, 47% { opacity: 0.3; }
      45%, 49% { opacity: 0.9; }
    }

    /* Rotating Description */
    .rotating-description {
      font-size:1.1rem;
      letter-spacing: 0.2rem;
      margin-top: 0.5rem;
      opacity: 0.6;
      text-transform: uppercase;
      animation: descriptionRotate 0.5s ease-out;
      min-height: 1.5rem;
    }

    @keyframes descriptionRotate {
      0% { opacity: 0; transform: translateY(-10px); }
      100% { opacity: 0.6; transform: translateY(0); }
    }

    /* Search bar */
    .search-container {
      max-width: 600px;
      margin: 0 auto 3rem;
      position: relative;
    }

    .search-bar {
      width: 100%;
      padding: 1.2rem 1.5rem;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 2px solid var(--glass-border);
      border-radius: 16px;
      color: var(--primary);
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      outline: none;
      transition: all 0.3s ease;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    [data-theme="light"] .search-bar {
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .search-bar::placeholder {
      color: var(--text-muted);
    }

    .search-bar:focus {
      border-color: var(--primary);
      box-shadow: 
        0 0 30px var(--shadow-color),
        0 8px 32px rgba(0, 0, 0, 0.6);
      transform: translateY(-2px);
    }

    /* Loading state */
    .loading {
      text-align: center;
      font-size: 1.5rem;
      margin: 4rem 0;
      animation: loadingPulse 1.5s ease-in-out infinite;
    }

    @keyframes loadingPulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    /* Games grid */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 2rem;
      padding: 1rem 0;
    }

    /* Game card with enhanced glassmorphism */
    .game-card {
      background: var(--glass);
      backdrop-filter: blur(20px) saturate(180%);
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 var(--glass-light);
    }

    [data-theme="light"] .game-card {
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 var(--glass-light);
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--glass-light) 0%, transparent 100%);
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
      z-index: 1;
    }

    .game-card:hover::before {
      opacity: 1;
    }

    .game-card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: var(--primary);
      box-shadow: 
        0 0 40px var(--shadow-color),
        0 16px 48px rgba(0, 0, 0, 0.7),
        inset 0 1px 0 var(--glass-light);
    }

    .game-card:active {
      transform: translateY(-8px) scale(1.01);
    }

    .game-image-container {
      width: 100%;
      height: 200px;
      overflow: hidden;
      position: relative;
      background: linear-gradient(135deg, var(--primary-glow) 0%, rgba(0, 0, 0, 0.5) 100%);
    }

    .game-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.8) contrast(1.1);
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .game-card:hover img {
      filter: brightness(1.1) contrast(1.2);
      transform: scale(1.1) rotate(1deg);
    }

    .game-info {
      padding: 1.5rem;
      position: relative;
      z-index: 2;
    }

    .game-card h3 {
      font-size: 1.4rem;
      font-weight: 700;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 0.1rem;
      margin-bottom: 0.5rem;
      text-shadow: 0 0 15px var(--shadow-color);
      transition: all 0.3s ease;
      color: var(--text-primary);
    }

    .game-card:hover h3 {
      text-shadow: 0 0 25px var(--shadow-color);
      transform: scale(1.05);
    }

    .play-indicator {
      text-align: center;
      font-size: 0.9rem;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      color: var(--primary-bright);
      text-transform: uppercase;
      letter-spacing: 0.15rem;
    }

    .game-card:hover .play-indicator {
      opacity: 1;
      transform: translateY(0);
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      margin: 4rem 0;
      opacity: 0.7;
    }

    .empty-state p {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 3rem 1rem 2rem;
      opacity: 0.6;
      font-size: 0.9rem;
      letter-spacing: 0.1rem;
    }

    /* Settings Panel */
    .settings-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 2px solid var(--glass-border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px var(--shadow-color);
    }

    .settings-toggle:hover {
      transform: rotate(90deg) scale(1.1);
      border-color: var(--primary);
      box-shadow: 0 0 20px var(--shadow-color);
    }

    .settings-panel {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100vh;
      background: var(--glass);
      backdrop-filter: blur(30px);
      border-left: 2px solid var(--glass-border);
      z-index: 999;
      transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: auto;
      padding: 2rem;
    }

    .settings-panel.active {
      right: 0;
    }

    .settings-header {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 2rem;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 0.1rem;
      color: var(--text-primary);
    }

    .setting-group {
      margin-bottom: 2rem;
    }

    .setting-label {
      display: block;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05rem;
      color: var(--text-secondary);
    }

    .setting-input {
      width: 100%;
      padding: 0.8rem;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--glass-border);
      border-radius: 8px;
      color: var(--text-primary);
      font-family: inherit;
      transition: all 0.3s ease;
    }

    [data-theme="light"] .setting-input {
      background: rgba(255, 255, 255, 0.8);
      color: #000;
    }

    .setting-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 10px var(--shadow-color);
    }

    .theme-selector {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .theme-option {
      padding: 0.8rem;
      border: 2px solid transparent;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.8rem;
      text-transform: uppercase;
      font-weight: 600;
    }

    .theme-option.red {
      background: linear-gradient(135deg, #ff0033, #cc0029);
      color: white;
    }

    .theme-option.light {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      color: #0066ff;
    }

    .theme-option.purple {
      background: linear-gradient(135deg, #9d4edd, #7c3db8);
      color: white;
    }

    .theme-option.active {
      border-color: var(--primary);
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--shadow-color);
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.3);
      transition: 0.4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* Bookmark Button */
    .bookmark-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
    }

    .bookmark-button {
      display: inline-block;
      padding: 12px 24px;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 2px solid var(--glass-border);
      border-radius: 25px;
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 600;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.05rem;
      cursor: move;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px var(--shadow-color);
      animation: bookmarkFloat 3s ease-in-out infinite;
    }

    @keyframes bookmarkFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .bookmark-button:hover {
      transform: scale(1.05);
      border-color: var(--primary);
      box-shadow: 0 0 20px var(--shadow-color);
    }

    /* Popup Modal */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      z-index: 10000;
      display: none;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }

    .popup-overlay.active {
      display: flex;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .popup-modal {
      background: var(--glass);
      backdrop-filter: blur(30px);
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      text-align: center;
      animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(50px) scale(0.9);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .popup-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.1rem;
      color: var(--text-primary);
    }

    .popup-description {
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 2rem;
      color: var(--text-secondary);
    }

    .popup-checkbox {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      gap: 0.5rem;
    }

    .popup-checkbox input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--primary);
    }

    .popup-checkbox label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      cursor: pointer;
    }

    .popup-button {
      padding: 12px 32px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.05rem;
    }

    .popup-button:hover {
      background: var(--primary-bright);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px var(--shadow-color);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }

      .games-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 1.5rem;
      }

      .game-image-container {
        height: 160px;
      }

      .logo {
        font-size: 3rem;
        letter-spacing: 0.3rem;
      }

      .subtitle {
        font-size: 1rem;
      }

      .settings-panel {
        width: 100%;
        right: -100%;
      }

      .ascii-art {
        font-size: 10px;
      }

      .ascii-container {
        padding-top: 3o0px;
        height: 80px;
      }

      .bookmark-button {
        font-size: 0.8rem;
        padding: 10px 20px;
      }
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 12px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-primary);
      border-left: 1px solid var(--glass-border);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--glass);
      border: 2px solid var(--bg-primary);
      border-radius: 6px;
      backdrop-filter: blur(10px);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary-dark);
      box-shadow: 0 0 10px var(--shadow-color);
    }

    /* Anti-close cloak button */
    .cloak-button {
      position: fixed;
      top: 20px;
      left: 20px;
      padding: 10px 20px;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 600;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.05rem;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 100;
      animation: cloakPulse 2s ease-in-out infinite;
    }

    @keyframes cloakPulse {
      0%, 100% { 
        box-shadow: 0 0 10px var(--shadow-color);
      }
      50% { 
        box-shadow: 0 0 20px var(--shadow-color), 0 0 30px var(--shadow-color);
      }
    }

    .cloak-button:hover {
      transform: scale(1.05);
      border-color: var(--primary);
      box-shadow: 0 0 25px var(--shadow-color);
    }
  </style>
</head>
<body>

  <!-- Settings Toggle -->
  <div class="settings-toggle" onclick="toggleSettings()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="3"></circle>
    </svg>
  </div>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settingsPanel">
    <div class="settings-header">Dope ass Settings</div>
    
    <div class="setting-group">
      <label class="setting-label">Tab Title</label>
      <input type="text" class="setting-input" id="tabTitleInput" placeholder="Enter your desired tab title" value="EYEDOPE">
    </div>

    <div class="setting-group">
      <label class="setting-label">Favicon URL</label>
      <input type="text" class="setting-input" id="faviconInput" placeholder="Enter favicon URL">
    </div>

    <div class="setting-group">
      <label class="setting-label">Da Theme</label>
      <div class="theme-selector">
        <div class="theme-option red active" onclick="setTheme('red')">Red</div>
        <div class="theme-option light" onclick="setTheme('light')">Light</div>
        <div class="theme-option purple" onclick="setTheme('purple')">Purple</div>
      </div>
    </div>

    <div class="setting-group">
      <label class="setting-label">
        <span style="display: flex; align-items: center; justify-content: space-between;">
          Anti-Close Cloak
          <label class="toggle-switch">
            <input type="checkbox" id="cloakToggle" onchange="toggleCloak()">
            <span class="slider"></span>
          </label>
        </span>
      </label>
    </div>

    <div class="setting-group">
      <label class="setting-label">
        <span style="display: flex; align-items: center; justify-content: space-between;">
          Instant about:blank
          <label class="toggle-switch">
            <input type="checkbox" id="blankToggle" onchange="toggleBlank()">
            <span class="slider"></span>
          </label>
        </span>
      </label>
    </div>

    <div class="setting-group">
      <label class="setting-label">
        <span style="display: flex; align-items: center; justify-content: space-between;">
          Show Popup on Load
          <label class="toggle-switch">
            <input type="checkbox" id="popupToggle" onchange="togglePopupSetting()" checked>
            <span class="slider"></span>
          </label>
        </span>
      </label>
    </div>

    <div class="setting-group">
      <button class="popup-button" onclick="resetSettings()" style="width: 100%;">Reset Settings</button>
    </div>
  </div>

  <!-- Anti-Close Cloak Button -->
  <div class="cloak-button" onclick="toggleCloakWindow()" id="cloakButton" style="display: none;">
    üõ°Ô∏è Anti-Close Enabled
  </div>

  <!-- ASCII Animation Container -->
  <div class="ascii-container">
    <div class="ascii-art" id="asciiArt"></div>
  </div>

  <div class="container">
    <header>
      <p class="subtitle">the best dope for your eyes</p>
      <div class="rotating-description" id="rotatingDescription">eyedope on top</div>
    </header>

    <div class="search-container">
      <input 
        type="text" 
        class="search-bar" 
        id="searchBar" 
        placeholder="Search games..."
        autocomplete="off"
      >
    </div>

    <div id="loading" class="loading">Loading Games...</div>
    <div class="games-grid" id="gamesGrid"></div>
    <div id="emptyState" class="empty-state" style="display: none;">
      <p>No games found</p>
    </div>

    <footer>
      <p>¬© 2026 | EYEDOPE v2 * </p>
    </footer>
  </div>

  <!-- Bookmark Button -->
  <div class="bookmark-container">
    <a href="javascript:(function(){window.open('https://eyedope.space','_blank');})();" 
       class="bookmark-button" 
       title="EyeDope Backup Website URL (when .live is blocked)">
      üìë DRAG TO BOOKMARKS TO SAVE BACKUP URL!
    </a>
  </div>

  <!-- Popup Modal -->
  <div class="popup-overlay" id="popupOverlay">
    <div class="popup-modal">
      <div class="popup-title" id="popupTitle">eyedope v2 may get blocked</div>
      <div class="popup-description" id="popupDescription">
       It's very possible that eyedope may be blocked soon following the future updates coming. We're looking to establish a proxy, way more games, and potentially some scripts. Our backup domain will be at EYEDOPE.SPACE if the bookmarklet doesn't work for you. Thanks for understanding, and convert there if this webpage gets blocked in the future.
    </div>
      <div class="popup-checkbox">
        <input type="checkbox" id="dontShowAgain">
        <label for="dontShowAgain">don't show this again</label>
      </div>
      <button class="popup-button" onclick="closePopup()">understood</button>
    </div>
  </div>

  <script>
    // Game discovery and population system
    const gamesGrid = document.getElementById('gamesGrid');
    const loading = document.getElementById('loading');
    const emptyState = document.getElementById('emptyState');
    const searchBar = document.getElementById('searchBar');

    let allGames = [];
    let filteredGames = [];
    let cloakWindow = null;

    // ASCII Art Animations
    const asciiFrames = [
      `                                         
                                              ‚ñÑ‚ñÑ‚ñÑ‚ñÑ  
                      ‚ñà‚ñÑ                    ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 
                      ‚ñà‚ñà                    ‚ñÄ‚ñà‚ñÑ  ‚ñà‚ñà 
 ‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ ‚ñà‚ñà ‚ñà‚ñà ‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ ‚ñÑ‚ñà‚ñà‚ñà‚ñà ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ ‚ñà‚ñà‚ñà‚ñà‚ñÑ ‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ      ‚ñÑ‚ñà‚ñÄ 
 ‚ñà‚ñà‚ñÑ‚ñà‚ñÄ ‚ñà‚ñà‚ñÑ‚ñà‚ñà ‚ñà‚ñà‚ñÑ‚ñà‚ñÄ ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà‚ñÑ‚ñà‚ñÄ    ‚ñÑ‚ñà‚ñÄ   
‚ñÑ‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÄ‚ñà‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñÄ‚ñà‚ñà‚ñà‚ñÑ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ 
         ‚ñà‚ñà                    ‚ñà‚ñà                   
       ‚ñÄ‚ñÄ‚ñÄ                     ‚ñÄ                    
      `,
      `
                     ‚ñÑ‚ñÑ                     ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ  
                     ‚ñà‚ñà                     ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñà‚ñà‚ñà‚ñà 
‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ ‚ñà‚ñà ‚ñà‚ñà ‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ ‚ñÑ‚ñà‚ñà‚ñà‚ñà ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ ‚ñà‚ñà‚ñà‚ñà‚ñÑ ‚ñÑ‚ñà‚ñÄ‚ñà‚ñÑ      ‚ñÑ‚ñà‚ñà‚ñÄ  
‚ñà‚ñà‚ñÑ‚ñà‚ñÄ ‚ñà‚ñà‚ñÑ‚ñà‚ñà ‚ñà‚ñà‚ñÑ‚ñà‚ñÄ ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà‚ñÑ‚ñà‚ñÄ    ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ 
‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ  ‚ñÄ‚ñà‚ñà‚ñÄ ‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ ‚ñÄ‚ñà‚ñà‚ñà‚ñà ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ ‚ñà‚ñà‚ñà‚ñà‚ñÄ ‚ñÄ‚ñà‚ñÑ‚ñÑ‚ñÑ   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 
        ‚ñà‚ñà                    ‚ñà‚ñà                     
      ‚ñÄ‚ñÄ‚ñÄ                     ‚ñÄ‚ñÄ                     
      `
    ];

    let asciiFrameIndex = 0;
    let asciiInterval;

    function initAsciiAnimation() {
      const asciiElement = document.getElementById('asciiArt');
      asciiInterval = setInterval(() => {
        asciiElement.textContent = asciiFrames[asciiFrameIndex];
        asciiFrameIndex = (asciiFrameIndex + 1) % asciiFrames.length;
      }, 2000);
      asciiElement.textContent = asciiFrames[0];
    }

    // Rotating descriptions
    const descriptions = [
      "play games! education is weird anyway.",
      "eyedope.live & eyedope.space (soon)",
      "if they talk behind ur back, then fart. - Sun Tzu, The Art of War",
      "bla bla blaaaa blah blah blah nwiuefdhneiuwfnh",
      "new games come every week!!! (usually every 2 days!)",
      "its all ports!!!!!!!!! everything!!!",
      "pssssssssssst.. liam made this. yes, that liam.",
      "i hope i can make a functional prox soon for ts. "
    ];

    let descriptionIndex = Math.floor(Math.random() * descriptions.length);

    function rotateDescription() {
      const descElement = document.getElementById('rotatingDescription');
      descriptionIndex = Math.floor(Math.random() * descriptions.length);
      descElement.style.animation = 'none';
      setTimeout(() => {
        descElement.textContent = descriptions[descriptionIndex];
        descElement.style.animation = 'descriptionRotate 0.5s ease-out';
      }, 50);
    }

    // Settings Management
    let settings = {
      theme: 'red',
      tabTitle: 'EYEDOPE',
      favicon: '',
      cloakEnabled: false,
      blankEnabled: false,
      showPopup: true
    };

    function loadSettings() {
      const saved = localStorage.getItem('eyedope-settings');
      if (saved) {
        settings = { ...settings, ...JSON.parse(saved) };
      }
      applySettings();
    }

    function saveSettings() {
      localStorage.setItem('eyedope-settings', JSON.stringify(settings));
    }

    function applySettings() {
      // Apply theme
      document.documentElement.setAttribute('data-theme', settings.theme);
      
      // Apply tab title
      document.title = settings.tabTitle;
      document.getElementById('tabTitleInput').value = settings.tabTitle;
      
      // Apply favicon
      if (settings.favicon) {
        let faviconLink = document.querySelector('link[rel*="icon"]');
        if (!faviconLink) {
          faviconLink = document.createElement('link');
          faviconLink.rel = 'icon';
          document.head.appendChild(faviconLink);
        }
        faviconLink.href = settings.favicon;
      }
      document.getElementById('faviconInput').value = settings.favicon;
      
      // Apply toggles
      document.getElementById('cloakToggle').checked = settings.cloakEnabled;
      document.getElementById('blankToggle').checked = settings.blankEnabled;
      document.getElementById('popupToggle').checked = settings.showPopup;
      
      // Show/hide cloak button
      document.getElementById('cloakButton').style.display = settings.cloakEnabled ? 'block' : 'none';
      
      // Update theme selector
      document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
      document.querySelector(`.theme-option.${settings.theme}`).classList.add('active');
    }

    function toggleSettings() {
      const panel = document.getElementById('settingsPanel');
      panel.classList.toggle('active');
    }

    function setTheme(theme) {
      settings.theme = theme;
      applySettings();
      saveSettings();
    }

    function toggleCloak() {
      settings.cloakEnabled = document.getElementById('cloakToggle').checked;
      applySettings();
      saveSettings();
    }

    function toggleBlank() {
      settings.blankEnabled = document.getElementById('blankToggle').checked;
      settings.showPopup = false;
      applySettings();
      saveSettings();
      
      if (settings.blankEnabled) {
        window.open('about:blank', '_blank').focus();
      }
    }

    function togglePopupSetting() {
      settings.showPopup = document.getElementById('popupToggle').checked;
      saveSettings();
    }

    function resetSettings() {
      if (confirm('Reset all settings to default?')) {
        localStorage.removeItem('eyedope-settings');
        localStorage.removeItem('eyedope-popup-disabled');
        location.reload();
      }
    }

    // Tab title and favicon inputs
    document.getElementById('tabTitleInput').addEventListener('input', (e) => {
      settings.tabTitle = e.target.value;
      document.title = e.target.value;
      saveSettings();
    });

    document.getElementById('faviconInput').addEventListener('input', (e) => {
      settings.favicon = e.target.value;
      let faviconLink = document.querySelector('link[rel*="icon"]');
      if (!faviconLink) {
        faviconLink = document.createElement('link');
        faviconLink.rel = 'icon';
        document.head.appendChild(faviconLink);
      }
      faviconLink.href = e.target.value;
      saveSettings();
    });

    // Popup Management
    function showPopup() {
      const popupDisabled = localStorage.getItem('eyedope-popup-disabled');
      if (!settings.showPopup || popupDisabled === 'true') return;
      
      // Random popup content
      const popupContents = [
        {
          title: "EyeDope V2 May Get Blocked...",
          description: "It's very possible that eyedope may be blocked soon following the future updates coming. We're looking to establish a proxy, way more games, and potentially some scripts. Our backup domain will be at EYEDOPE.SPACE if the bookmarklet doesn't work for you. Thanks for understanding, and convert there if this webpage gets blocked in the future."
        }
      ];
      
      const randomContent = popupContents[Math.floor(Math.random() * popupContents.length)];
      document.getElementById('popupTitle').textContent = randomContent.title;
      document.getElementById('popupDescription').textContent = randomContent.description;
      
      document.getElementById('popupOverlay').classList.add('active');
    }

    function closePopup() {
      const dontShow = document.getElementById('dontShowAgain').checked;
      if (dontShow) {
        localStorage.setItem('eyedope-popup-disabled', 'true');
      }
      document.getElementById('popupOverlay').classList.remove('active');
    }

    // Anti-close cloaking
    function toggleCloakWindow() {
      if (cloakWindow && !cloakWindow.closed) {
        cloakWindow.focus();
        return;
      }
      
      cloakWindow = window.open('about:blank', '_blank', 'width=800,height=600');
      if (cloakWindow) {
        const doc = cloakWindow.document;
        doc.open();
        doc.write(`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Google Classroom</title>
            <style>
              body { 
                margin: 0; 
                padding: 20px; 
                background: #000; 
                color: #ff0033; 
                font-family: monospace;
                display: flex;
                align-items: center;
                justify-content: center;
                height: 100vh;
                text-align: center;
              }
              .cloak-info {
                font-size: 18px;
                line-height: 1.6;
              }
              .cloak-title {
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 20px;
                text-shadow: 0 0 10px currentColor;
              }
            </style>
          </head>
          <body>
            <div class="cloak-info">
              <div class="cloak-title">üõ°Ô∏è ANTI-CLOSE CLOAK ENABLED</div>
              <p>This window is now protected from forcefull closure from extensions, and from accidental closure.</p>
            </div>
            <script>
              window.onbeforeunload = function() {
                return "Leave EYEDOPE? Your progress may be lost.";
              };
              document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                  e.preventDefault();
                }
              });
            <\/script>
          </body>
          </html>
        `);
        doc.close();
        
        cloakWindow.onbeforeunload = function() {
          return "Leave EYEDOPE? Your progress may be lost.";
        };
      }
    }

    // Auto-discover games from files folder
    async function discoverGames() {
      try {
        // Try to load games.json first (if exists)
        try {
          const response = await fetch('games.json');
          if (response.ok) {
            const games = await response.json();
            return games.map(g => ({
              folder: g.folder,
              title: g.title || formatTitle(g.folder)
            }));
          }
        } catch (e) {
          console.log('No games.json found, scanning directories...');
        }

        // Fallback: manual game list (you can add more here)
        // This list will be used if games.json doesn't exist
        const knownGames = [
          '(+) EyeDope A.I.',
          'geometry dash  lite',
          'a bite at freddys',
          'crazy cattle 3d',
          'thats not my neighbor',
          'buckshot roulette',
          'bendy and the ink machine',
          'bacons may die',
          'launcha libre',
          'a baby sniper in vietnam',
          '99 nights in the forest ripoff',
          'slope 3',
          'the man from the window',
          'traffic jam 3d',
          'tunnel rush',
          'tanuki sunset',
          'get yoked',
          'madalin stunt cars',
          'madalin stunt cars multiplayer',
          'lucky blocks',
          'pogo 3D',
          'ragdoll-io',
          'highway traffic 3d',
          'two ball',
          'boxingrandom',
          '1v1space',
          '2 minute football',
          '3dash',
          '10 minutes till dawn',
          '2048',
          'a day in the office',
          'backrooms 2D',
          'bad-parenting',
          'barry has a secret',
          'baseball bros',
          'basket stars',
          'bounce back',
          'crazy chicken 3D',
          'csgo surf',
          'dreader',
          'drift-hunters',
          'drivemad',
          'eagle ride',
          'edys car simulator',
          'evade',
          'evil nun schools out',
          'extremerun3d',
          'fearstofathom',
          'final earth 2',
          'flight sim',
          'fnaf',
          'fnaf2',
          'fnaf3',
          'fnaf4',
          'fnaf4halloween',
          'fnafsl',
          'fnafworld',
          'fruit ninja',
          'granny',
          'granny 3',
          'gunspin',
          'half life',
          'jelly drift',
          'mari0',
          'obby but your on a bike',
          'obby robby only up',
          'pico 8 games',
          'pixel combat 2',
          'qwop',
          'retrobowl',
          'rodha',
          'rooftop snipers 2',
          'slender multiplayer',
          'slide in the woods',
          'slope 3',
          'sprunked',
          'stackball.io',
          'stacktris',
          'station 141',
          'steal brainrot',
          'Stickman Clash',
          'STICKMAN GTA',
          'ultimate car driving',
          'you vs 100 skibidi'
        ];

        // Check which games actually exist
        const existingGames = [];
        for (const folder of knownGames) {
          try {
            // Check if logo exists
            const logoCheck = await fetch(`files/${folder}/logo.png`, { method: 'HEAD' });
            if (logoCheck.ok) {
              existingGames.push({
                folder: folder,
                title: formatTitle(folder)
              });
            }
          } catch (e) {
            console.log(`Game not found: ${folder}`);
          }
        }

        return existingGames;
      } catch (error) {
        console.error('Error discovering games:', error);
        return [];
      }
    }

    // Format folder name to title
    function formatTitle(folder) {
      return folder
        .replace(/[-_]/g, ' ')
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
    }

    // Create game card element
    function createGameCard(game) {
      const card = document.createElement('div');
      card.className = 'game-card';
      card.dataset.title = game.title.toLowerCase();
      
      card.innerHTML = `
        <div class="game-image-container">
          <img 
            src="files/${game.folder}/logo.png" 
            alt="${game.title}" 
            loading="lazy"
            onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22300%22%3E%3Crect fill=%22%23000%22 width=%22400%22 height=%22300%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 fill=%22%23ff0033%22 font-family=%22monospace%22 font-size=%2224%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3E${game.title}%3C/text%3E%3C/svg%3E'"
          >
        </div>
        <div class="game-info">
          <h3>${game.title}</h3>
          <div class="play-indicator">‚ñ∂ LETS PLAY!!!</div>
        </div>
      `;

      card.addEventListener('click', () => openGame(game.folder));
      
      return card;
    }

    // Open game in cloaked window
    function openGame(gameFolder) {
      const gameURL = `focus.html?game=${encodeURIComponent(gameFolder)}`;
      const win = window.open('about:blank', '_blank');
      
      if (!win) {
        alert('‚ö†Ô∏è Pop-up blocked! Please allow popups for about:blank game cloak functionality and to open the game!');
        return;
      }

      const doc = win.document;
      doc.open();
      doc.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Loading...</title>
          <style>
            body { margin: 0; overflow: hidden; background: #000; }
            iframe { border: none; width: 100vw; height: 100vh; }
          </style>
        </head>
        <body>
          <iframe src="${gameURL}" allowfullscreen></iframe>
        </body>
        </html>
      `);
      doc.close();

      win.onbeforeunload = () => "Leave EYEDOPE? Your progress may be lost.";
    }

    // Render games to grid
    function renderGames(games) {
      gamesGrid.innerHTML = '';
      
      if (games.length === 0) {
        gamesGrid.style.display = 'none';
        emptyState.style.display = 'block';
        return;
      }

      gamesGrid.style.display = 'grid';
      emptyState.style.display = 'none';

      games.forEach(game => {
        const card = createGameCard(game);
        gamesGrid.appendChild(card);
      });
    }

    // Search functionality
    searchBar.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      if (query === '') {
        filteredGames = [...allGames];
      } else {
        filteredGames = allGames.filter(game => 
          game.title.toLowerCase().includes(query) ||
          game.folder.toLowerCase().includes(query)
        );
      }
      
      renderGames(filteredGames);
    });

    // Initialize
    async function init() {
      try {
        // Load settings first
        loadSettings();
        
        // Initialize ASCII animation
        initAsciiAnimation();
        
        // Start rotating descriptions
        setInterval(rotateDescription, 4000);
        
        // Show popup after a delay
        setTimeout(() => {
          showPopup();
        }, 1000);
        
        // Load games
        allGames = await discoverGames();
        
        // Sort alphabetically
        allGames.sort((a, b) => a.title.localeCompare(b.title));
        
        filteredGames = [...allGames];
        
        loading.style.display = 'none';
        renderGames(filteredGames);
        
        console.log(`‚úì Loaded ${allGames.length} games`);
      } catch (error) {
        loading.textContent = 'Error loading games';
        console.error('Initialization error:', error);
      }
    }

    // Start the app
    init();

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === '/' || (e.ctrlKey && e.key === 'f')) {
        e.preventDefault();
        searchBar.focus();
      }
      if (e.key === 'Escape') {
        searchBar.value = '';
        searchBar.blur();
        filteredGames = [...allGames];
        renderGames(filteredGames);
        
        // Close settings panel
        document.getElementById('settingsPanel').classList.remove('active');
      }
      if (e.key === 's' && e.altKey) {
        e.preventDefault();
        toggleSettings();
      }
    });

    // Close settings when clicking outside
    document.addEventListener('click', (e) => {
      const settingsPanel = document.getElementById('settingsPanel');
      const settingsToggle = document.querySelector('.settings-toggle');
      
      if (!settingsPanel.contains(e.target) && !settingsToggle.contains(e.target)) {
        settingsPanel.classList.remove('active');
      }
    });

    // Prevent context menu on bookmark button (for drag functionality)
    document.querySelector('.bookmark-button').addEventListener('contextmenu', (e) => {
      e.preventDefault();
    });
  </script>
<script data-cfasync="false" src="//dcbbwymp1bhlf.cloudfront.net/?wbbcd=1223804"></script>
</body>
</html>